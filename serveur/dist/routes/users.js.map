{"version":3,"sources":["../../routes/users.js"],"names":["express","require","router","Router","axios","sender","facebookdata","get","req","res","next","send","userAccessToken","console","log","user_id","params","userFriendList","_getUserFriendList","then","response","data","sendResponse","SUCCESS_STATUS","catch","error","userFriendListRequest","redirectURI","userID","module","exports"],"mappings":";;AAAA,IAAIA,UAAUC,QAAQ,SAAR,CAAd;AACA,IAAIC,SAASF,QAAQG,MAAR,EAAb;AACA,IAAMC,QAAQH,QAAQ,OAAR,CAAd;;AAEA,IAAMI,SAASJ,QAAQ,WAAR,CAAf;AACA,IAAMK,eAAeL,QAAQ,iBAAR,CAArB;;AAEA;AACAC,OAAOK,GAAP,CAAW,GAAX,EAAgB,UAASC,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAyB;AACrCD,QAAIE,IAAJ,CAAS,sCAAsCL,aAAaM,eAA5D;AACH,CAFD;;AAIAV,OAAOK,GAAP,CAAW,wBAAX,EAAqC,UAASC,GAAT,EAAcC,GAAd,EAAmB;AACpDI,YAAQC,GAAR,CAAY,6BAAZ;;AAEA,QAAIC,UAAUP,IAAIQ,MAAJ,CAAWD,OAAzB;AACA,QAAIE,uBAAJ;;AAEAC,uBAAmBH,OAAnB,EACKI,IADL,CACU,oBAAY;AACdF,yBAAiBG,SAASC,IAAT,CAAcA,IAA/B;;AAEAR,gBAAQC,GAAR,CAAYG,cAAZ;;AAEA;AACAZ,eAAOiB,YAAP,CAAoBjB,OAAOkB,cAA3B,EAA2CN,cAA3C,EAA2DR,GAA3D;AACH,KARL,EASKe,KATL,CASW,iBAAS;AACZX,gBAAQC,GAAR,CAAYW,KAAZ;AACH,KAXL;AAYH,CAlBD;;AAoBA,IAAMP,qBAAqB,SAArBA,kBAAqB,CAACH,OAAD,EAAa;AACpC,QAAIW,wBAAwB;AACxBC,qBAAa,mCADW;AAExBf,yBAAiBN,aAAaM,eAFN;AAGxBgB,gBAAQb;AAHgB,KAA5B;;AAMA,WAAOX,MAAMG,GAAN,CAAUmB,sBAAsBC,WAAtB,GAAoCD,sBAAsBE,MAA1D,GAAmE,wBAAnE,GAA8FF,sBAAsBd,eAA9H,CAAP;AACH,CARD;;AAUAiB,OAAOC,OAAP,GAAiB5B,MAAjB","file":"users.js","sourcesContent":["var express = require('express');\nvar router = express.Router();\nconst axios = require('axios');\n\nconst sender = require('../sender');\nconst facebookdata = require(\"../facebookdata\");\n\n/* GET users listing. */\nrouter.get('/', function(req, res, next) {\n    res.send('respond with a resource user id :' + facebookdata.userAccessToken);\n});\n\nrouter.get('/userFriends/:user_id/', function(req, res) {\n    console.log(\"GET /userFriends/:iuser_id/\");\n\n    let user_id = req.params.user_id;\n    let userFriendList;\n\n    _getUserFriendList(user_id)\n        .then(response => {\n            userFriendList = response.data.data;\n\n            console.log(userFriendList);\n\n            //TODO: Send response to client\n            sender.sendResponse(sender.SUCCESS_STATUS, userFriendList, res)\n        })\n        .catch(error => {\n            console.log(error)\n        });\n});\n\nconst _getUserFriendList = (user_id) => {\n    let userFriendListRequest = {\n        redirectURI: 'https://graph.facebook.com/v2.11/',\n        userAccessToken: facebookdata.userAccessToken,\n        userID: user_id\n    }\n\n    return axios.get(userFriendListRequest.redirectURI + userFriendListRequest.userID + '/friends?access_token=' + userFriendListRequest.userAccessToken)\n};\n\nmodule.exports = router;\n"]}