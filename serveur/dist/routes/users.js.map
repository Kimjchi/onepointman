{"version":3,"sources":["../../routes/users.js"],"names":["express","require","router","Router","sender","facebookdata","get","req","res","next","send","console","log","user_id","params","userFriendList","_getUserFriendList","then","response","data","sendResponse","SUCCESS_STATUS","catch","error","userFriendListRequest","redirectURI","userAccessToken","userID","axios","module","exports"],"mappings":";;AAAA,IAAIA,UAAUC,QAAQ,SAAR,CAAd;AACA,IAAIC,SAASF,QAAQG,MAAR,EAAb;;AAEA,IAAMC,SAASH,QAAQ,WAAR,CAAf;AACA,IAAMI,eAAeJ,QAAQ,iBAAR,CAArB;;AAEA;AACAC,OAAOI,GAAP,CAAW,GAAX,EAAgB,UAASC,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAyB;AACvCD,QAAIE,IAAJ,CAAS,yBAAT;AACD,CAFD;;AAIAR,OAAOI,GAAP,CAAW,wBAAX,EAAqC,UAASC,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAyB;AAC1DE,YAAQC,GAAR,CAAY,4BAAZ;;AAEA,QAAIC,UAAUN,IAAIO,MAAJ,CAAWD,OAAzB;AACA,QAAIE,uBAAJ;;AAEAC,uBAAmBH,OAAnB,EACKI,IADL,CACU,oBAAY;AACdF,yBAAiBG,SAASC,IAAT,CAAcA,IAA/B;;AAEAR,gBAAQC,GAAR,CAAYG,cAAZ;;AAEA;AACAX,eAAOgB,YAAP,CAAoBhB,OAAOiB,cAA3B,EAA2CN,cAA3C,EAA2DP,GAA3D;AACH,KARL,EASKc,KATL,CASW,iBAAS;AACZX,gBAAQC,GAAR,CAAYW,KAAZ;AACH,KAXL;AAYH,CAlBD;;AAoBA,IAAMP,qBAAqB,SAArBA,kBAAqB,CAACH,OAAD,EAAa;AACpC,QAAIW,wBAAwB;AACxBC,qBAAa,mCADW;AAExBC,yBAAiBrB,aAAaqB,eAFN;AAGxBC,gBAAQd;AAHgB,KAA5B;;AAMA,WAAOe,MAAMtB,GAAN,CAAUkB,sBAAsBC,WAAtB,GAAoCD,sBAAsBG,MAA1D,GAAmE,wBAAnE,GAA8FH,sBAAsBE,eAA9H,CAAP;AACH,CARD;;AAUAG,OAAOC,OAAP,GAAiB5B,MAAjB","file":"users.js","sourcesContent":["var express = require('express');\nvar router = express.Router();\n\nconst sender = require('../sender');\nconst facebookdata = require(\"../facebookdata\");\n\n/* GET users listing. */\nrouter.get('/', function(req, res, next) {\n  res.send('respond with a resource');\n});\n\nrouter.get('/userFriends/:iuser_id', function(req, res, next) {\n    console.log(\"GET /userFriends/:iuser_id\");\n\n    let user_id = req.params.user_id;\n    let userFriendList;\n\n    _getUserFriendList(user_id)\n        .then(response => {\n            userFriendList = response.data.data;\n\n            console.log(userFriendList);\n\n            //TODO: Send response to client\n            sender.sendResponse(sender.SUCCESS_STATUS, userFriendList, res)\n        })\n        .catch(error => {\n            console.log(error)\n        });\n});\n\nconst _getUserFriendList = (user_id) => {\n    let userFriendListRequest = {\n        redirectURI: 'https://graph.facebook.com/v2.11/',\n        userAccessToken: facebookdata.userAccessToken,\n        userID: user_id\n    }\n\n    return axios.get(userFriendListRequest.redirectURI + userFriendListRequest.userID + '/friends?access_token=' + userFriendListRequest.userAccessToken)\n};\n\nmodule.exports = router;\n"]}